#############################
###I want to die events   ###
#############################

##########################
### Canal Access #########
##########################



country_event = {
	id = 42400
	title = "Access through the Suez"
	desc = "We are bound by treaty to give our neighbours access through the Suez."
	trigger = {
		owns = 1755
		any_neighbor_country = {
			owns = 1756
			owns = 1746
			NOT = { war_with = THIS }
			NOT = { military_access = THIS }
		}
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = "Fine"
		1756 = {
			owner = {
				military_access = THIS
			}
		}
	}
}
country_event = {
	id = 42401
	title = "Access through the Panama Canal"
	desc = "We are bound by treaty to give our neighbours access through the Panama Canal."
	trigger = {
		owns = 1723
		any_neighbor_country = {
			owns = 2206
			owns = 2204
			NOT = { war_with = THIS }
			NOT = { military_access = THIS }
		}
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = "Fine"
		2206 = {
			owner = {
				military_access = THIS
			}
		}
	}
}
country_event = {
	id = 42402
	title = "Access through the Kiel Canal"
	desc = "We are bound by treaty to give our neighbours access through the Kiel Canal."
	trigger = {
		owns = 369
		any_neighbor_country = {
			owns = 370
			owns = 529
			NOT = { war_with = THIS }
			NOT = { military_access = THIS }
		}
	}
	mean_time_to_happen = { days = 1 }
	option = {
		name = "Fine"
		370 = {
			owner = {
				military_access = THIS
			}
		}
	}
}

#########################
### Infamy coalitions ###
#########################

country_event = {
	## Finding a target event. This fires if
	## you have a badboy neighbour, 
	## You havent delayed the war,
	## you're independent, not neutral
	## and not at war, or have a truce with, the offender
	id = 42404
	title = "EVTNAME42404"
	desc = "EVTDESC42404"
	trigger = {
		NOT = { has_country_modifier = delayed_coalition_war }
		is_independant = yes
		NOT = { has_country_modifier = neutrality }
		great_wars_enabled = yes
		any_neighbor_country = {
			NOT = { war_with = THIS }
			NOT = { truce_with = THIS }
			badboy = 1.84 #Has infamy of 46
		}
	}
	mean_time_to_happen = { 
		days = 2
	}
	option = {
		#Declare war
		name = "EVTOPTA42404" 
		badboy = -10
		any_pop = {
			dominant_issue = {
				factor = 0.1
				value = jingoism
			}
		}
		random_country = {
			limit = {
				NOT = { war_with = THIS }
				neighbour = THIS
				badboy = 1.84 #Has infamy of 46
			}
			add_casus_belli = {
				target = THIS
				type = dismantle_cb
				months = 6
			}
			country_event = 42407
		}
		ai_chance = {
			factor = 50
		}
	}
	option = {
		name = "EVTOPTB42404" #Delay war
		badboy = 10
		add_country_modifier = {
			####Delaying the war causes massive unrest in the form of 1 militancy per day####
			name = delayed_coalition_war
			duration = 30
		}
	}
}

country_event = {
	## Finding a target event. This fires if
	## you have a badboy neighbour, 
	## You havent delayed the war,
	## you're independent, not neutral
	## and not at war, or have a truce with, the offender
	id = 42405
	title = "EVTNAME42404"
	desc = "EVTDESC42404"
	trigger = {
		NOT = { has_country_modifier = delayed_coalition_war }
		is_independant = yes
		NOT = { has_country_modifier = neutrality }
		great_wars_enabled = no
		any_neighbor_country = {
			NOT = { war_with = THIS }
			NOT = { truce_with = THIS }
			badboy = 1.24 #Has infamy of 31
		}
	}
	mean_time_to_happen = { 
		days = 2
	}
	option = {
		#Declare war
		name = "EVTOPTA42404" 
		badboy = -10
		any_pop = {
			dominant_issue = {
				factor = 0.1
				value = jingoism
			}
		}
		random_country = {
			limit = {
				NOT = { war_with = THIS }
				neighbour = THIS
				badboy = 1.24 #Has infamy of 31
			}
			add_casus_belli = {
				target = THIS
				type = dismantle_cb
				months = 6
			}
			country_event = 42407
		}
		ai_chance = {
			factor = 50
		}
	}
	option = {
		name = "EVTOPTB42404" #Delay war
		badboy = 10
		add_country_modifier = {
			####Delaying the war causes massive unrest in the form of 1 militancy per day####
			name = delayed_coalition_war
			duration = 30
		}
	}
}
country_event = {
	id = 42406
	title = "testing choices"
	desc = "test"
	is_triggered_only = yes
	option = {
		name = "gain infamy"
		badboy = 10
	}
	option = {
		name = "lose infamy"
		badboy = -10
	}
}

country_event = {
	## The actual war event. This fires for the offender.
	## It decreases relations, and influence if you're (likely) a great power
	## Oh yeah, and just to be sure of no mishaps, it cancels ALL alliances the offender might have
	## And finally creates a defensive war with the dismantle CB
	id = 42407
	title = "EVTNAME42407"
	desc = "EVTDESC42407"
	is_triggered_only = yes
	option = {
		name = "EVTOPTA42407"
		relation = { who = FROM value = -400 }
		diplomatic_influence = { who = FROM value = -400 }
		any_country = {
			leave_alliance = THIS
		}
		FROM = {
			war = {
				target = THIS
				attacker_goal = {
					casus_belli = dismantle_cb
				}
				defender_goal = {
					casus_belli = status_quo
				}
			}
		}
		country_event = 96000
	}
}
########################
##### GP Alliances #####
########################

# country_event = {
	# id = 42408
	# title = "EVTNAME42408"
	# desc = "EVTDESC42408"

	# ### Fires if both allies doesn't have flag

	# trigger = {
		# is_greater_power = yes
		# NOT = { has_country_flag = allied_with_gp }
		# any_greater_power = {
			# alliance_with = THIS
			# NOT = { has_country_flag = allied_with_gp }
		# }
	# }
	# mean_time_to_happen = { days = 1 }
	# option = {
		# name = "EVTOPTA42408"
		# set_country_flag = allied_with_gp
		# any_greater_power = {
			# limit = {
				# alliance_with = THIS
				# NOT = { has_country_flag = allied_with_gp }
			# }
			# set_country_flag = allied_with_gp
		# }
	# }
# }
# country_event = {
	# id = 42409
	# title = "EVTNAME42409"
	# desc = "EVTDESC42409"

	# ### Fires if THIS country has an ally, doesn't have the flag, while scope country already has the flag

	# trigger = {
		# is_greater_power = yes
		# NOT = { has_country_flag = allied_with_gp }
		# any_greater_power = {
			# alliance_with = THIS
			# has_country_flag = allied_with_gp
		# }
	# }
	# mean_time_to_happen = { days = 1 }
	# option = {
		# name = "EVTOPTA42409"
		# any_greater_power = {
			# limit = {
				# alliance_with = THIS
				# has_country_flag = allied_with_gp
			# }
			# leave_alliance = THIS
		# }
	# }
# }
# country_event = {
	# id = 42410
	# title = "EVTNAME42410"
	# desc = "EVTDESC42410"

	# ### Fires if a country with the flag suddenly doesn't have an ally

	# trigger = {
		# is_greater_power = yes
		# has_country_flag = allied_with_gp
		# NOT = { any_greater_power = { alliance_with = THIS }
	# }
	# mean_time_to_happen = { days = 1 }
	# option = {
		# name = "EVTOPTA42410"
		# clr_country_flag = allied_with_gp
	# }
# # }

###################################
##### Grossdeutchland forming #####
###################################

country_event = {
	id = 42411
	title = "EVTNAME42411"
	desc = "EVTDESC42411"
	picture = "threehurrahs"
	trigger = {
		tag = GER
		has_global_flag = austria_joined_germany
		NOT = { has_country_flag = grossdeutchland_penalties }
		NOT = { has_country_flag = gdl_reforms_finished }
		any_core = {
			OR = {
				is_core = AUS
				is_core = KUK
				is_core = SLO
				is_core = CRO
				is_core = CZH
			}
		}
	}
	mean_time_to_happen = {
		days =  1
	}
	option = {
		name = "EVTOPTA42411"
		remove_accepted_culture = south_german
		set_country_flag = grossdeutchland_penalties
		add_country_modifier = {
			name = gdl_timer
			duration = 1564
		}
		add_country_modifier = {
			name = gdl_military_1
			duration = -1
		}
		add_country_modifier = {
			name = gdl_economic_1
			duration = -1
		}
		add_country_modifier = {
			name = gdl_social_1
			duration = -1
		}
		any_owned = {
			limit = {
				OR = {
					is_core = AUS
					is_core = KUK
					is_core = SLO
					is_core = CRO
					is_core = CZH
				}
			}
			infrastructure  = -10
			remove_core = GER
			add_province_modifier = {
				name = gdl_austrian_provinces
				duration = -1
			}
		}
		any_country = {
			limit = {
				is_greater_power = yes
			}
			country_event = 42413
		}
	}
}
######################################
### If Germany loses Austrian clay ###
######################################
country_event = {
	id = 42412
	title = "EVTNAME42412"
	desc = "EVTDESC42412"
	picture = "threehurrahs"
	trigger = {
		tag = GER
		has_global_flag = austria_joined_germany
		has_country_flag = grossdeutchland_penalties
		NOT = { has_country_flag = gdl_reforms_finished }
		NOT = { 
			GER = {
				any_owned_province = {
					 has_province_modifier = gdl_austrian_provinces
				}
			}
		}
	}
	mean_time_to_happen = { days = 5 }
	option = {
		name = "EVTOPTA42412"
		add_accepted_culture = south_german
		remove_country_modifier = gdl_military_1
		remove_country_modifier = gdl_military_2
		remove_country_modifier = gdl_economic_1
		remove_country_modifier = gdl_economic_2
		remove_country_modifier = gdl_social_1
		remove_country_modifier = gdl_social_2
		clr_country_flag = grossdeutchland_penalties
		country_event = 42414
	}
}


##############################################################
### Dismantlement Event for greater powers against Germany ###
##############################################################
country_event = {
	id = 42413
	title = "EVTNAME42413"
	desc = "EVTDESC42413"
	is_triggered_only = yes
	allow_multiple_instances = yes
	option = {
		name = "EVTOPTA42413"
		casus_belli = {
			target = FROM
			type = dismantle_ger
			months = 52
		}
	}
}

##############################
### Dissolution of Germany ###
##############################
country_event = {
	id = 42414
	title = "EVTNAME42414"
	desc = "EVTDESC42414"
	is_triggered_only = yes
	major = yes
	option = {
		name = "EVTOPTA42414"
		release = SWI
		any_owned = {
			limit = {
				culture = south_german
			}
			add_core = SGF
			remove_core = GER
		}
		release = SGF
		change_tag = NGF
		any_owned = {
			remove_core = GER
		}
		prestige = -10000
		any_country = {
			diplomatic_influence = {
				who = NGF
				value = -200
			}
			diplomatic_influence = {
				who = SGF
				value = -200
			}
		}
		NGF = {
			add_country_modifier = {
				name = ger_dissolved
				duration = 3560
			}
		}
		SGF = {
			add_country_modifier = {
				name = ger_dissolved
				duration = 3560
			}
		}
		set_global_flag = ger_dissolved
	}
}
